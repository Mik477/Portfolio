import"../chunks/DY8pyCGo.js";import{i as u}from"../chunks/Cqwhy9oZ.js";import{p as d,o as p,f,b as g,c as L,a as h,n as w}from"../chunks/DQxZm1d5.js";import{L as x}from"../chunks/Ohov3jF7.js";import{l as n}from"../chunks/D0H63XxL.js";var C=f("<!> <noscript></noscript>",1);function S(s,c){d(c,!1);async function i(){let o=null;try{const e=new AbortController;o=setTimeout(()=>e.abort(),3e3);const t=await fetch("https://ipapi.co/json/",{signal:e.signal});if(!t.ok)throw new Error("Geolocation API error");const r=(await t.json()).country_code;return r&&["DE","AT","CH","LI","LU"].includes(r)?"de":"en"}catch(e){return console.warn("IP geolocation failed, using browser language:",e),(navigator.language||"").toLowerCase().startsWith("de")?"de":"en"}finally{o!==null&&clearTimeout(o)}}function l(o){document.cookie=`locale=${o}; Path=/; Max-Age=31536000; SameSite=Lax`}p(async()=>{n.set("detecting");const o=document.cookie.match(/(?:^|; )locale=(en|de)/),e=o==null?void 0:o[1];let t;e?(n.set("found-cookie"),t=e):(t=await i(),l(t),n.set("detected")),location.replace(`/${t}`)}),u();var a=C(),m=g(a);x(m,{}),w(2),L(s,a),h()}export{S as component};
